var Keyboard=function(){var e,n={},r=[];window.c=n;var o={a:65,b:66,c:67,d:68,e:69,f:70,g:71,h:72,i:73,j:74,k:75,l:76,m:77,n:78,o:79,p:80,q:81,r:82,s:83,t:84,u:85,v:86,w:87,x:88,y:89,z:90,enter:13,esc:27,space:32,left:37,up:38,right:39,down:40,"arrow-left":37,"arrow-right":39,"arrow-up":38,"arrow-down":40,ctrl:17,alt:18,backspace:8},t=function(){return e?e:(e=this,document.addEventListener("keydown",function(e){-1===r.indexOf(e.keyCode)&&(a("pressed",e.keyCode),r.push(e.keyCode))}),document.addEventListener("keyup",function(e){a("released",e.keyCode),r.splice(r.indexOf(e.keyCode),1)}),document.addEventListener("blur",function(){r=[],console.log("blur")}),void s())},i=function(e,n){for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);return e},d={};d.registerKey=function(e,n){return o[e]=n,this},d.codeOf=function(e){return o[e]},d.bind=function(r,o,t){n[r]||(n[r]={}),l(o,function(o){var i=e.codeOf(o)||o;(n[r][i]||(n[r][i]=[])).push(t)})},d.isHolding=function(e){return-1!==r.indexOf(this.codeOf(e)||e)};for(var u,f=["pressed","holding","released"];u=f.pop();)d[u]=function(e){return function(n,r){return this.bind(e,n,r)}}(u);i(t.prototype,d);var a=function(e,r){if(n[e]){var o=n[e][r];if(o)for(var t=o.length,i=0;t>i;++i)o[i](r,e)}},c=function(){for(var e="holding",n=r.length,o=0;n>o;++o)a(e,r[o])},s=function(){c(),requestAnimationFrame(s)},l=function(e,n){"string"==typeof e&&(e=e.toLowerCase().split(" "));for(var r=0;r<e.length;++r)n(e[r])};return t}(),keyboard=new Keyboard;